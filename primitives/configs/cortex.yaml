cortex_version: 1

device: "local://"  # Run on local machine (default)

system:
  name: "cortex-peak-macos"
  description: "Peak performance benchmark for macOS (medium load to counter DVFS throttling)"

dataset:
  path: "primitives/datasets/v1/physionet-motor-imagery/converted/S001R03.float32"
  format: "float32"
  channels: 64
  sample_rate_hz: 160

realtime:
  scheduler: fifo            # fifo | rr | deadline | other
  priority: 90               # high, but safer than 99
  cpu_affinity: [0]
  deadline_ms: 500           # hop(80)/Fs(160) = 0.5 s

power:
  governor: "performance"    # macOS ignores this, but document intent
  turbo: false

benchmark:
  metrics: [latency, jitter, throughput, memory_usage]
  parameters:
    duration_seconds: 2    # Long run for statistical significance
    repeats: 5              # Multiple runs for reproducibility
    warmup_seconds: 10      # Discard initial unstable samples
  load_profile: "medium"    # N/2 CPUs @ 50% - keeps frequency elevated (DVFS workaround)

output:
  directory: "results"
  format: "ndjson"
  include_raw_data: false

# --- Plugins ---
# No plugins section = auto-detect all built kernels from primitives/kernels/
# Expected: car, notch_iir, bandpass_fir, goertzel, welch_psd, noop (6 kernels, ICA excluded)
